<!doctype html>
<html lang=en-us>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colliding Black Holes</title>  
    <link rel="stylesheet" href="BHCollide.css">
</head>
<body>
    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
    <script src="https://unpkg.com/delaunator@3.0.2/delaunator.js"></script> 
    <!-- https://github.com/mapbox/delaunator -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.3/dat.gui.min.js"></script>
    <script src="delaunaymesh.js"></script> 
    <script src = "BHCollidePlot.js"></script>
    <script sync src="BHCollideSim.js"></script>
    
    <!-- Simulation Control Panel start-->
    <div id="controlPanel">
        <div id="buttons">
            <button id="runButton" onclick="javascript:runSim();">Run Simulation</button>
            <button id="stopButton" onclick="javascript:stopSim();" disabled>Stop</button>
            <select name="function" id="fx" onchange="changeUp();">
                <option value="0">ADD00GF</option>
                <option value="1">ADD01GF</option>
                <option value="2">ADD02GF</option>
                <option value="3">ADD11GF</option>
                <option value="4">ADD12GF</option>
                <option value="5">ADD22GF</option>
                <option value="6">ALPHAGF</option>
                <option value="7">BETU0GF</option>
                <option value="8">BETU1GF</option>
                <option value="9">BETU2GF</option>
                <option value="10" selected="selected">CFGF</option>
                <option value="11">HDD00GF</option>
                <option value="12">HDD01GF</option>
                <option value="13">HDD02GF</option>  
                <option value="14">HDD11GF</option>
                <option value="15">HDD12GF</option>
                <option value="16">HDD22GF</option>
                <option value="17">LAMBDAU0GF</option>
                <option value="18">LAMBDAU1GF</option>
                <option value="19">LAMBDAU2GF</option>
                <option value="20">TRKGF</option>
                <option value="21">VETU0GF</option>
                <option value="22">VETU1GF</option>
                <option value="23">VETU2GF</option>
            </select>
            <button id="nextButton" onclick="javascript:nextSlice();" disabled>
                Step Forward
            </button>
            <button id="animateButton" onclick="javascript:animateSim();" disabled>
                Animate
            </button>
        </div>
        <div id="progressBar">
            <div id="progressDisplay"></div>
        </div>
    </div>
    <!-- Simulation Control Panel end-->

    <!-- info button -->
    <div id="luneLogo">
        i <!-- UTF-8 info character ðŸ›ˆ, not working on mobile? -->
    </div>

    <!-- Pop-up info page start-->
    <div id="myModal" class="modal">
        <div class="modal-content">
        <span class="close">&times;</span>
            <h1>Welcome to Lune's Colliding Black Hole Simulator!</h1>
            <p>This website simulates two black holes colliding by graphing the functions using in Einsteins equations over time with the click of a button. Using NRPY+, a python-based code generation software package, and Emscripten, a C/C++ compiler to WebAssembly, we were able to run a binary black hole collision in a browser.</p>
            <h2>Instructions</h2>
            <p>When you first open the page click "Run Simulation" to run the simulation. The program will take about 20 seconds to finish. After the program has run once, you will be able to graph all 24 different functions! Select a function to graph via the drop-down menu, and then click "Step Forward" to move forward one time-step, or "Animate" to see the whole simulation. Each time-step displays the selected function graphed over a 2D spatial slice.</p>
            <h2>What am I Simulating?</h2>
            <p>The NRPY+ code uses Brill-Lindquist initial data the Method of Lines time-stepping a</p>
            <h2>Motivation</h2>
            <p>This website was inspired by the BlackHoles@Home project and their goals to make binary black hole simulations that can fit onto consumer-grade desktops. Usually, such simulations are run on super-computers, which are highly inaccessible to most people. BlackHoles@Home was able to greatly reduce the cost in memory of these numerical relativity simulations and developed a desktop simulator. We wanted to take this one step further, and make these simulations even more accessible by creating a browser-based simulator that would be intuitive to the general public.</p>
            <p>For more information on NRPY+ and BlackHoles@Home
            <a href="http://astro.phys.wvu.edu/bhathome/" target="_blank">
                <img id="BHlogo" src="BH@Hlogo.png" alt=""></a></p>
            <p>For more information on Emscripten
            <a href="https://emscripten.org/index.html" target="_blank">
                <img id="emscriptenlogo" src="EmscriptenLogo.png" alt=""></a></p>
        </div>
    </div>
    <!-- Pop-up info page end-->
    
    <script type="text/javascript">
        document.getElementById("progressBar").style.visibility = "hidden";
        
        var modal = document.getElementById("myModal");
        var infoBtn = document.getElementById("luneLogo");
        var span = document.getElementsByClassName("close")[0];

        infoBtn.onclick = function() {
            modal.style.display = "block";
        }

        span.onclick = function() {
            modal.style.display = "none";
        }

        renderCanvas(document.body);
    </script>
</body>  
<html>
